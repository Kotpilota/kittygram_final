# Kittygram Final

[![CI/CD Status](https://github.com/Kotpilota/kittygram_final/actions/workflows/main.yml/badge.svg)](https://github.com/Kotpilota/kittygram_final/actions)
[![Docker](https://img.shields.io/badge/docker-available-blue)](https://hub.docker.com/u/kotpilota)

**Kittygram** ‚Äî —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –∫–æ—à–µ–∫, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–µ–ª–∏—Ç—å—Å—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ —Å–≤–æ–∏—Ö –ø–∏—Ç–æ–º—Ü–µ–≤ –∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å –æ–± –∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö. –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è.

## –û –ø—Ä–æ–µ–∫—Ç–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —Ñ–∏–Ω–∞–ª—å–Ω—ã–º –∑–∞–¥–∞–Ω–∏–µ–º –∫—É—Ä—Å–∞ "Python-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫" –æ—Ç –Ø–Ω–¥–µ–∫—Å.–ü—Ä–∞–∫—Ç–∏–∫—É–º –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

- **–¶–µ–ª—å**: –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –æ–±–º–µ–Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –∫–æ—Ç–∏–∫–æ–≤ —Å –∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏
- **–ó–∞–¥–∞—á–∞**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ì–æ—Ç–æ–≤–æ–µ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∫–æ—Ç–∏–∫–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π base64
- –£–∫–∞–∑–∞–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ webcolors
- –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –¥–ª—è –ø–∏—Ç–æ–º—Ü–µ–≤
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –∫–æ—Ç–∏–∫–æ–≤

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Python 3.9** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Django 3.2.3** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Django REST Framework 3.12.4** - API
- **Djoser 2.1.0** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **PostgreSQL 13** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Gunicorn** - WSGI —Å–µ—Ä–≤–µ—Ä

### Frontend  
- **React** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **Node.js 18** - —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### DevOps & Infrastructure
- **Docker & Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Nginx** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏ reverse proxy
- **GitHub Actions** - CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- **Docker Hub** - —Ä–µ–µ—Å—Ç—Ä –æ–±—Ä–∞–∑–æ–≤

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose
- Git

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone https://github.com/Kotpilota/kittygram_final.git
cd kittygram_final
```

2. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
cp .env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env` —Ñ–∞–π–ª:
```env
POSTGRES_DB=kittygram
POSTGRES_USER=kittygram_user
POSTGRES_PASSWORD=secure_password_here
DB_HOST=db
DB_PORT=5432
SECRET_KEY=your-super-secret-django-key
DEBUG=False
ALLOWED_HOSTS=127.0.0.1,localhost,yourdomain.com
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
```bash
docker compose up -d
```

4. **–°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```bash
docker compose exec backend python manage.py createsuperuser
```

**–ì–æ—Ç–æ–≤–æ!** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:9000`

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å–±–æ—Ä —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è entrypoint.sh —Å–∫—Ä–∏–ø—Ç—É.

## CI/CD Pipeline

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub Actions. –ü—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ –≤–µ—Ç–∫—É `main`:

### –≠—Ç–∞–ø 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–õ–∏–Ω—Ç–∏–Ω–≥** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ —Å flake8
- **Backend —Ç–µ—Å—Ç—ã** - Django unit tests —Å PostgreSQL
- **Frontend —Ç–µ—Å—Ç—ã** - React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –≠—Ç–∞–ø 2: –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è
–°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤ –≤ Docker Hub:
- `kotpilota/kittygram_backend:latest`
- `kotpilota/kittygram_frontend:latest`
- `kotpilota/kittygram_gateway:latest`

### –≠—Ç–∞–ø 3: –î–µ–ø–ª–æ–π
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `docker-compose.production.yml` –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–∑ –Ω–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤
- –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤

### –≠—Ç–∞–ø 4: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram –æ–± —É—Å–ø–µ—à–Ω–æ–º –¥–µ–ø–ª–æ–µ

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–µ–ø–ª–æ—è

### GitHub Secrets
–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```
DOCKER_USERNAME      # –õ–æ–≥–∏–Ω Docker Hub
DOCKER_PASSWORD      # –ü–∞—Ä–æ–ª—å Docker Hub  
HOST                 # IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
USER                 # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
SSH_KEY              # –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á
SSH_PASSPHRASE       # –ü–∞—Ä–æ–ª—å SSH –∫–ª—é—á–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TELEGRAM_TO          # ID —á–∞—Ç–∞ Telegram
TELEGRAM_TOKEN       # –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
```

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker –∏ Docker Compose
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –¥–æ—Å—Ç—É–ø
3. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª —Å production –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

## API Documentation

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```
POST /api/users/                 # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST /api/auth/token/login/      # –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
POST /api/auth/token/logout/     # –í—ã—Ö–æ–¥
```

### –ö–æ—Ç–∏–∫–∏  
```
GET    /api/cats/                # –°–ø–∏—Å–æ–∫ –∫–æ—Ç–∏–∫–æ–≤ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)
POST   /api/cats/                # –î–æ–±–∞–≤–∏—Ç—å –∫–æ—Ç–∏–∫–∞
GET    /api/cats/{id}/           # –î–µ—Ç–∞–ª–∏ –∫–æ—Ç–∏–∫–∞
PUT    /api/cats/{id}/           # –û–±–Ω–æ–≤–∏—Ç—å –∫–æ—Ç–∏–∫–∞
DELETE /api/cats/{id}/           # –£–¥–∞–ª–∏—Ç—å –∫–æ—Ç–∏–∫–∞
```

### –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
```
GET  /api/achievements/          # –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
POST /api/achievements/          # –°–æ–∑–¥–∞—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
kittygram_final/
‚îú‚îÄ‚îÄ backend/                    # Django REST API
‚îÇ   ‚îú‚îÄ‚îÄ cats/                   # –ú–æ–¥–µ–ª–∏ –∫–æ—Ç–∏–∫–æ–≤ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ kittygram_backend/      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile              # Backend –æ–±—Ä–∞–∑
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt        # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ frontend/                   # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  
‚îÇ   ‚îú‚îÄ‚îÄ src/                    # –ò—Å—Ö–æ–¥–Ω–∏–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile              # Frontend –æ–±—Ä–∞–∑
‚îÇ   ‚îî‚îÄ‚îÄ package.json            # Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ nginx/                      # –í–µ–±-—Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile              # Gateway –æ–±—Ä–∞–∑
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml          # –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
‚îú‚îÄ‚îÄ docker-compose.production.yml  # –ü—Ä–æ–¥–∞–∫—à–Ω
‚îú‚îÄ‚îÄ kittygram_workflow.yml      # CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ tests.yml                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
docker compose logs -f backend
docker compose logs -f frontend  
docker compose logs -f gateway
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
```bash
# Backend shell
docker compose exec backend python manage.py shell

# Bash –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
docker compose exec backend bash
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞

- **–ñ–∏–≤–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è**: [https://kittygrampilota.serveblog.net/](https://kittygrampilota.serveblog.net/)
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–µ–ø–ª–æ–π** —Å –ø–æ–ª–Ω—ã–º CI/CD —Ü–∏–∫–ª–æ–º
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** –≥–æ—Ç–æ–≤–∞—è –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π** —Å –ª—É—á—à–∏–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏

---

<div align="center">

**Made with ‚ù§Ô∏è for cat lovers**

[‚≠ê Star this repo](https://github.com/Kotpilota/kittygram_final/stargazers) | [üêõ Report Bug](https://github.com/Kotpilota/kittygram_final/issues) | [üí° Request Feature](https://github.com/Kotpilota/kittygram_final/issues)

</div>
